---
layout: post
title:  "プラグインをインストールする"
date:   2016-05-05 03:07:41 +0900
categories:
  - common
---

## プラグインを探す
既にインストールしたいプラグインがあって、その方法を知りたくてこのページを読んでいる人もいるでしょう。そういう人は、次の節まで読み飛ばしてください。

mikutterには多くのサードパーティプラグインがあり、探せばやりたいことをやってくれるプラグインが見つかるものです。

[mikutter wikiのPluginページ](http://yuzuki.hachune.net/wiki/Plugin) には、いくつかのプラグインと簡単な紹介が書かれています。有用そうだと思うプラグインがあれば、実際に試してみましょう。

## プラグインをインストールする
今回は、 [display_requirements](https://github.com/toshia/display_requirements) プラグインをインストールする例を見ていきましょう。

### サードパーティプラグインを設置するディレクトリ
サードパーティプラグインを設置するディレクトリは、デフォルトでは `~/.mikutter/plugin/` 以下です。あなたがインストールするプラグインは、全てここに設置してください。また、 `~/.mikutter` 以下に `plugin` ディレクトリが存在しなければ作成してください。`~/.mikutter` 自体はmikutterを起動すると必ず作成されます。もし無いようなら、見る場所を間違えている可能性があります。

ほとんどのプラグインはgitで配布されているので、ターミナルでこのディレクトリに移動すると以降の手順がスムーズでしょう。

```shell
$ cd ~/.mikutter/plugin/
```

### READMEにコマンドが書いてある場合
プラグインのREADMEには、インストールコマンドを書く風習があるため、基本的にはこれに従いましょう。display_requirementsプラグインの場合、以下のコマンドを実行するように、と書いてあります。

```shell
$ mkdir -p ~/.mikutter/plugin; touch ~/.mikutter/plugin/display_requirements.rb
```

コマンドを書いておくのは一番親切ですので、あなたがプラグインを公開するときもコマンドを書いておきましょう。

以上のことができたら、mikutterを再起動します。

### 単ファイルのプラグイン（gist）
gistは、Githubのサービスの一つで、主に１ファイルからなるソースコードをアップロードするのに使われます（本当は複数のファイルをアップロードすることもできるのですが）。

最も小さいmikutterプラグインは、ひとつのファイルから成るので、単純なものであればgistで公開されている場合もあるでしょう。

今回は、[「いまのなし」ってつぶやいた人の直前のツイートをRTするmikutterプラグイン](https://gist.github.com/penguin2716/9b758ec0714791b4bd13) をインストールする例で見ていきましょう。

手順はとても簡単で、(1)全体を保存して、(2)`~/.mikutter/plugin/`以下に配置するだけです。

この時、ファイル名は `(プラグインスラッグ).rb` としましょう。プラグインスラッグとはmikutterプラグインに一意に定められている名前で、同じ名前のプラグインは同時にインストールできません。gistの場合、プラグインスラッグを知るためにはコードの中から次のような行を探します。

```ruby
Plugin.create :auto_retweet_previous_tweet do
```

*「いまのなし」ってつぶやいた人の直前のツイートをRTするmikutterプラグイン* では、**auto_retweet_previous_tweet**がプラグインスラッグであると言うことがわかるので、`~/.mikutter/plugin/auto_retweet_previous_tweet.rb`に配置しましょう。

以上のことができたら、mikutterを再起動します。

